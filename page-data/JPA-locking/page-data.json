{"componentChunkName":"component---src-templates-post-tsx","path":"/JPA-locking/","result":{"data":{"logo":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABDklEQVQY003QwUoCURiG4WOExAQVuapFkUFg2cbIKDQMLY1iKMukJEvSMLR0FYqg0K42Ea1aSMsuoe6kVXQHYovGWc3pPTATLh6+/3wzwxx+kQqcLiUC9WpyQZ/8eHsXX5/fbinlkGVZgvznnPt6j5rhYtacXpz5ay+56I0M+WJpiqOeYWbIW8xgFn54MY8JLCOMQ/vZFlqYwro43sw8puNl0zMSiVOcG7+9bfIBJ7hHBXdoo4FnbqOySl6Sc3hCCU2hrxZfKxs1uaYFdYqYaZhZcgcHuEaSD9XLZfUTZpW72EceEaQQRVEs+gqh7MpV8yK4N6128NPpjtn7cNu7GoCrb3caRu15mN6ZBzH+B9oQInTA7ID+AAAAAElFTkSuQmCC","width":400,"height":90,"src":"/static/8637e594ca86d58e20988ba8c4cfc1e7/497c6/thxwelchs-logo-v2.png","srcSet":"/static/8637e594ca86d58e20988ba8c4cfc1e7/497c6/thxwelchs-logo-v2.png 1x"}}},"markdownRemark":{"html":"<h2>낙관적 락</h2>\n<p><em>충돌이 발생하지 않을 거라고 낙관적으로 가정하는 방법</em></p>\n<p>데이터베이스 레벨이 아닌 JPA레벨에서 버전 관리 기능을 통해 구현되어있음</p>\n<p>테이블에 version 관리를 할 컬럼을 지정해놓고</p>\n<p>읽었을 때의 버전과, 변경 할 때의 버전이 같지 않으면 예외(OptimisticLockException)를 발생시켜서 다른 트랜잭션에서의 데이터 접근을 막습니다.</p>\n<p><em>낙관적 락 종류</em> 에는 네가지 타입이 있습니다.</p>\n<ul>\n<li>NONE: 낙관적 잠금을 사용하지 않음.</li>\n<li>VERSION: <code class=\"language-text\">@Version</code> 어노테이션이 붙어있는 컬럼을 조건으로 낙관적 락을 시행 ( 이 컬럼을 기준으로 락 버전을 관리함</li>\n<li>DIRTY: 변경된 필드에 의해서 낙관적 락 사용</li>\n<li>ALL: 모든 필드를 충돌감지의 조건으로 사용</li>\n</ul>\n<p>DIRTY나 ALL  타입으로 낙관적 락을 사용할 경우, 버전 컬럼이 없어도 락을 걸 수 있는데, ALL타입은 전체 컬럼의 값 비교로 락을 컨트롤 합니다. 이 때 주의해야 할 점은 <code class=\"language-text\">@DynamicUpdate</code> 어노테이션을 달아주는 것이 좋습니다.</p>\n<p>왜냐하면 하이버네이트는 업데이트 할 엔티티의 상태가 변화할 때, save 메소드를 호출하지 않아도 값이 기존 값과 비교하여 변경됐을 때 값이 어느정도로 변화했는지 체크해서 변경 쿼리를 날립니다. 이 때 상태 변경 감지 하는 걸 Dirty Checking 이라고 하는데, Dirty한 상황이 일어났을 때 하이버네이트는 전체 컬럼에 대한 값 변경을 시도합니다. 이럴 때 진짜 변화가 일어난 컬럼만 업데이트에 반영되도록  <code class=\"language-text\">@DynamicUpdate</code> 어노테이션을 달아주는 것이 좋다고 합니다.</p>\n<h2>비관적 락</h2>\n<p><em>충돌이 발생할 것이라고 우선적으로 가정하고 락을 거는 방법</em></p>\n<p>데이터베이스 레벨에서의 락 기능을 사용하는데, 대표적인 레코드락을 사용</p>\n<p>FOR UPDATE(exclusive), LOCK IN SHARE MODE(shared mode) 을 거는 방법</p>\n\n        <deckgo-highlight-code  >\n          <code slot=\"code\">-- innoDB 테이블에 대해 걸 수 있는 레코드 락은 반드시 auto-commit이 비활성화 상태 이거나, \n-- 트랜잭션을 직접 제어하는 상태에서만 Lock을 컨트롤 할 수 있습니다.\n-- 현재 AutoCommit 값 확인 ( 1 = O, 0 = X )\nSELECT @@AUTOCOMMIT;\n\n-- AutoCommit 해제\nSET AUTOCOMMIT = 0;\n\nBEGIN;\n\n-- shared mode\nSELECT \nt.*\nFROM test_table t\nWHERE t.id = 10\n FOR UPDATE;\n-- LOCK IN SHARE MODE;\n\n\n/**\n실제로 다른 세션에서 해당 t.id = 10인 레코드에 접근하려는 READ(FOR UPDATE), WRITE SQL을 실행했을 때, \n해당 레코드가 LOCK 이 걸려 있으므로 대기상태로 빠짐 (COMMIT 하기 전 까지)\n*/\nCOMMIT;</code>\n        </deckgo-highlight-code>\n      \n<p>shared mode = 내가 락을 건 이상 다른 세션에서 UPDATE나 DELETE는 못하게 하는 것</p>\n<p>exclusive mode = 내가 락을 걸면 다른 트랜잭션에서는 읽기 쓰기도 못하게 하는 것 ( 읽기를 못한다는 것은, 단순 SELECT 문은 허용되나, exclusive mode를 하려고 하는 읽기에 대한 부분만 해당됩니다, 인덱스가 exclusive lock이 걸려 있다면, 대기상태로 돌려짐)</p>\n<h1>추가 보너스!</h1>\n<p>위에서 소개한 JPA레벨에서의 잠금을 설정하는 Optimistic Lock (낙관적 잠금)을 할 때\n<code class=\"language-text\">@Version</code> 어노테이션이 존재하는 엔티티에서는 <code class=\"language-text\">@DynamicUpdate</code>를 명시해주는게 좋다고 했었죠? 그런데 어차피 모든 필드를 항상 업데이트 할 것도 아닌데 당연히 명시해주면 무조건 좋은거 아닐까? 라는 생각을 하던 찰나에 선임 분께 찾아볼것을 권유 받았습니다. 그래서 <code class=\"language-text\">@DynamicUpdate</code>를 사용했을 때의 장단점과 어떨 때 사용해야 할지 찾아봤습니다.</p>\n<h2><code class=\"language-text\">@DynamicUpdate</code> 장점</h2>\n<p>상태가 변화된 Dirty한 필드 만을 대상으로 UPDATE SET 절 쿼리를 수행합니다. (Dirty하다는 것은 필드의 데이터 값이 기존의 origin 값과 달라졌다는 뜻입니다.)</p>\n<h2><code class=\"language-text\">@DynamicUpdate</code> 단점</h2>\n<p>JPA 구현체인 hibernate는  애플리케이션이 처음 로드 될 때, 엔티티 들을 스캔 하여 모든 필드를 업데이트 할 쿼리로 캐싱 해놓고 업데이트 할 때 마다 메모리에 캐시 된 쿼리를 사용하는 것인데, @DynamicUpdate를 명시 해주면, 업데이트 할 컬럼만 UPDATE SET 절에 포함시키기 위해 캐시 된 쿼리를 사용하지 못하고 업데이트 할 때마다 동적 쿼리를 생성해야 합니다.\n​</p>\n<p>따라서 @DynamicUpdate는 업데이트 시 무의미한 필드 들이 많이 존재하는 엔티티 이면서 업데이트 시  오버헤드가 많이 발생하는 경우에 사용해야 할 것 같습니다.</p>\n<p>​덧붙여서, JPA @Version 어노테이션으로 명시 해놓은 버전 필드가 있는 엔티티의 Optimistic Lock(낙관적 락)을 사용하고자 할 때는 @DynamicUpdate를 사용하는 것이 좋습니다. (@Version 필드만 업데이트 해야 하는 경우가 분명하기 때문에)</p>\n<p><u><span style=\"color:#e96900;\">\n혹시나 잘못된 점이 있거나 정보가 틀렸다면 반드시 코멘트 혹은 <a href=\"mailto:thxwelchs@gmail.com\">이메일</a>로 알려주시면 감사하겠습니다!\n</span></u></p>\n<h3>참고</h3>\n<blockquote>\n<p><a href=\"https://effectivesquid.tistory.com/category/Server/JPA\">https://effectivesquid.tistory.com/category/Server/JPA</a><br>\n<a href=\"https://lng1982.tistory.com/289\">https://lng1982.tistory.com/289</a><br>\n<a href=\"https://jojoldu.tistory.com/415\">https://jojoldu.tistory.com/415</a><br>\n<a href=\"https://www.baeldung.com/spring-data-jpa-dynamicupdate\">https://www.baeldung.com/spring-data-jpa-dynamicupdate</a></p>\n</blockquote>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"낙관적 락"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"충돌이 발생하지 않을 거라고 낙관적으로 가정하는 방법"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"데이터베이스 레벨이 아닌 JPA레벨에서 버전 관리 기능을 통해 구현되어있음"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"테이블에 version 관리를 할 컬럼을 지정해놓고"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"읽었을 때의 버전과, 변경 할 때의 버전이 같지 않으면 예외(OptimisticLockException)를 발생시켜서 다른 트랜잭션에서의 데이터 접근을 막습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"낙관적 락 종류"}]},{"type":"text","value":" 에는 네가지 타입이 있습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"NONE: 낙관적 잠금을 사용하지 않음."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"VERSION: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Version"}]},{"type":"text","value":" 어노테이션이 붙어있는 컬럼을 조건으로 낙관적 락을 시행 ( 이 컬럼을 기준으로 락 버전을 관리함"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"DIRTY: 변경된 필드에 의해서 낙관적 락 사용"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ALL: 모든 필드를 충돌감지의 조건으로 사용"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DIRTY나 ALL  타입으로 낙관적 락을 사용할 경우, 버전 컬럼이 없어도 락을 걸 수 있는데, ALL타입은 전체 컬럼의 값 비교로 락을 컨트롤 합니다. 이 때 주의해야 할 점은 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@DynamicUpdate"}]},{"type":"text","value":" 어노테이션을 달아주는 것이 좋습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"왜냐하면 하이버네이트는 업데이트 할 엔티티의 상태가 변화할 때, save 메소드를 호출하지 않아도 값이 기존 값과 비교하여 변경됐을 때 값이 어느정도로 변화했는지 체크해서 변경 쿼리를 날립니다. 이 때 상태 변경 감지 하는 걸 Dirty Checking 이라고 하는데, Dirty한 상황이 일어났을 때 하이버네이트는 전체 컬럼에 대한 값 변경을 시도합니다. 이럴 때 진짜 변화가 일어난 컬럼만 업데이트에 반영되도록  "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@DynamicUpdate"}]},{"type":"text","value":" 어노테이션을 달아주는 것이 좋다고 합니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"비관적 락"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"충돌이 발생할 것이라고 우선적으로 가정하고 락을 거는 방법"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"데이터베이스 레벨에서의 락 기능을 사용하는데, 대표적인 레코드락을 사용"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"FOR UPDATE(exclusive), LOCK IN SHARE MODE(shared mode) 을 거는 방법"}]},{"type":"text","value":"\n\n        "},{"type":"element","tagName":"deckgo-highlight-code","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"code","properties":{"slot":"code"},"children":[{"type":"text","value":"-- innoDB 테이블에 대해 걸 수 있는 레코드 락은 반드시 auto-commit이 비활성화 상태 이거나, \n-- 트랜잭션을 직접 제어하는 상태에서만 Lock을 컨트롤 할 수 있습니다.\n-- 현재 AutoCommit 값 확인 ( 1 = O, 0 = X )\nSELECT @@AUTOCOMMIT;\n\n-- AutoCommit 해제\nSET AUTOCOMMIT = 0;\n\nBEGIN;\n\n-- shared mode\nSELECT \nt.*\nFROM test_table t\nWHERE t.id = 10\n FOR UPDATE;\n-- LOCK IN SHARE MODE;\n\n\n/**\n실제로 다른 세션에서 해당 t.id = 10인 레코드에 접근하려는 READ(FOR UPDATE), WRITE SQL을 실행했을 때, \n해당 레코드가 LOCK 이 걸려 있으므로 대기상태로 빠짐 (COMMIT 하기 전 까지)\n*/\nCOMMIT;"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n      \n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"shared mode = 내가 락을 건 이상 다른 세션에서 UPDATE나 DELETE는 못하게 하는 것"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"exclusive mode = 내가 락을 걸면 다른 트랜잭션에서는 읽기 쓰기도 못하게 하는 것 ( 읽기를 못한다는 것은, 단순 SELECT 문은 허용되나, exclusive mode를 하려고 하는 읽기에 대한 부분만 해당됩니다, 인덱스가 exclusive lock이 걸려 있다면, 대기상태로 돌려짐)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{},"children":[{"type":"text","value":"추가 보너스!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"위에서 소개한 JPA레벨에서의 잠금을 설정하는 Optimistic Lock (낙관적 잠금)을 할 때\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@Version"}]},{"type":"text","value":" 어노테이션이 존재하는 엔티티에서는 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@DynamicUpdate"}]},{"type":"text","value":"를 명시해주는게 좋다고 했었죠? 그런데 어차피 모든 필드를 항상 업데이트 할 것도 아닌데 당연히 명시해주면 무조건 좋은거 아닐까? 라는 생각을 하던 찰나에 선임 분께 찾아볼것을 권유 받았습니다. 그래서 "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@DynamicUpdate"}]},{"type":"text","value":"를 사용했을 때의 장단점과 어떨 때 사용해야 할지 찾아봤습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@DynamicUpdate"}]},{"type":"text","value":" 장점"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"상태가 변화된 Dirty한 필드 만을 대상으로 UPDATE SET 절 쿼리를 수행합니다. (Dirty하다는 것은 필드의 데이터 값이 기존의 origin 값과 달라졌다는 뜻입니다.)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@DynamicUpdate"}]},{"type":"text","value":" 단점"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"JPA 구현체인 hibernate는  애플리케이션이 처음 로드 될 때, 엔티티 들을 스캔 하여 모든 필드를 업데이트 할 쿼리로 캐싱 해놓고 업데이트 할 때 마다 메모리에 캐시 된 쿼리를 사용하는 것인데, @DynamicUpdate를 명시 해주면, 업데이트 할 컬럼만 UPDATE SET 절에 포함시키기 위해 캐시 된 쿼리를 사용하지 못하고 업데이트 할 때마다 동적 쿼리를 생성해야 합니다.\n​"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"따라서 @DynamicUpdate는 업데이트 시 무의미한 필드 들이 많이 존재하는 엔티티 이면서 업데이트 시  오버헤드가 많이 발생하는 경우에 사용해야 할 것 같습니다."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"​덧붙여서, JPA @Version 어노테이션으로 명시 해놓은 버전 필드가 있는 엔티티의 Optimistic Lock(낙관적 락)을 사용하고자 할 때는 @DynamicUpdate를 사용하는 것이 좋습니다. (@Version 필드만 업데이트 해야 하는 경우가 분명하기 때문에)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"u","properties":{},"children":[{"type":"element","tagName":"span","properties":{"style":"color:#e96900;"},"children":[{"type":"text","value":"\n혹시나 잘못된 점이 있거나 정보가 틀렸다면 반드시 코멘트 혹은 "},{"type":"element","tagName":"a","properties":{"href":"mailto:thxwelchs@gmail.com"},"children":[{"type":"text","value":"이메일"}]},{"type":"text","value":"로 알려주시면 감사하겠습니다!\n"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"참고"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://effectivesquid.tistory.com/category/Server/JPA"},"children":[{"type":"text","value":"https://effectivesquid.tistory.com/category/Server/JPA"}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://lng1982.tistory.com/289"},"children":[{"type":"text","value":"https://lng1982.tistory.com/289"}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://jojoldu.tistory.com/415"},"children":[{"type":"text","value":"https://jojoldu.tistory.com/415"}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"a","properties":{"href":"https://www.baeldung.com/spring-data-jpa-dynamicupdate"},"children":[{"type":"text","value":"https://www.baeldung.com/spring-data-jpa-dynamicupdate"}]}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}},"excerpt":"낙관적 락 충돌이 발생하지 않을 거라고 낙관적으로 가정하는 방법 데이터베이스 레벨이 아닌 JPA레벨에서 버전 관리 기능을 통해 구현되어있음 테이블에 version 관리를 할 컬럼을 지정해놓고 읽었을 때의 버전과, 변경 할 때의 버전이 같지 않으면 예…","timeToRead":3,"frontmatter":{"title":"JPA Locking","userDate":"20 January 2020","date":"2020-01-20T22:11:55.000Z","tags":["java","jpa","lock"],"image":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEFAgT/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG5xUEI2H//xAAcEAABAwUAAAAAAAAAAAAAAAABAAMQAhESEyH/2gAIAQEAAQUCOSbrc2diwEf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAcEAABBAMBAAAAAAAAAAAAAAABAAIQIRESMXH/2gAIAQEABj8C4MerVxaazS4IoR//xAAbEAEAAgIDAAAAAAAAAAAAAAABABARQSFhkf/aAAgBAQABPyFcoCNfBkQd/Sh2QHor/9oADAMBAAIAAwAAABBgD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQEAAQQDAAAAAAAAAAAAAAERABAhMUFhccH/2gAIAQEAAT8QI8BvRDPUx4tYOdiVV6xptHw35o4TuUBdP//Z","aspectRatio":2.052980132450331,"src":"/static/bff02c866bc7af42735291d5146cb62a/52258/JPA-locking-postbg.jpg","srcSet":"/static/bff02c866bc7af42735291d5146cb62a/2f037/JPA-locking-postbg.jpg 930w,\n/static/bff02c866bc7af42735291d5146cb62a/52258/JPA-locking-postbg.jpg 1800w","sizes":"(max-width: 1800px) 100vw, 1800px"}}},"author":{"id":"thxwelchs","bio":"thxwelchs","avatar":{"children":[{"__typename":"ImageSharp","fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHUlEQVQ4y23UaUzTdxgH8MdjMrwiEVRALqFaoAflamGWckkLhRZpEQql9KQtxR70X44CLVdBEEQJ4BRkImZRMGSyQ5mKx+amMQ6VeMQ5jZkTyMjmwVBB9xs73/z3TZ4X3zefd88X4J+YlRagBRP+rYuytqZaisuMsiRdwoFgAvUTH/+oLzL4XQ69qTqdSU+plIszV2ft4IE4Nx9azHWASxPWBNGhzMWEQBIE0Kik6E1RSJmcORG+o3Bu44YRxFrzEcrzq0dhQbaXRM9wZFMahZhIDoUC5dJ95Y140KIshazg3MU84nZIICUN6pjYNxc/GHmcETj8NGDLmeNWWs/FvsTm0fLEs4MRHtmPdCzFTYTQkoWDdmszHkxhpwH3RD5gqOu9gFX+D0s3G69fSrs5lhFQ+9ZtxdLr/FTO9E69AdVUV51XhSvuJ/luRY5SK9luwKBUUrQYD3KzQTnQCkNXb7/vsc7vdktQI7pEPPy0KcrSH09JfGU0GOf0Ow2oTlo9JnCTvYghxKMuaxOpFauFsnwMD2ZuV0Byux0EH550ZnhRb1Yw+1/WRJ1D5bENAxWV2LTZjCFzgf6ng6y2zxkBCpTG4KOz9cfIw/WHYa+5EQ8KM4rAcrAJeoZvOG1aT7snJg2i7KBxJPSxoSKN8hU9goGqZfqSOt9dj4Iycl7HxDFRY/ZuiiO3Hkx5xXiQl6WEduUgIO1bp9VxxHsmqg1NBo+aNDHqCzqVBrF53ElbtNykjWi+7xVceIdIiURYsYNsMthBJjfgwTg+D9QcLTTH9zj5xPnfpVDLUOFG+6naImxcVahBZZjlRVFk/mVKYO0Ywb/sQUIC9400X02VSeUgypbiQe8UPyA/9gLSDMWJyqWMC1yLkWld8fc1O7Hv+CIhKmDnzrUxbadJLMP+TIG+jc8TTstE0hBplgTyc/4HjOfwIedEG1SiK8t83LY80nmlH6oUY99W2aveiNV5qJFvR2k+fRPksI5zUYycr9j02J+POvoCjtR1LzxF/SIcGEVnQSyPA0K1xNl1+foxlVg7bqmqQnqNCelEincchn3Om9L2lkz87LG3t+FlOjllEv04u3Z2/AH0NO3Hg3QC7e8nBnCOCAwdq7A5kKXEikqM5nc5dMn8BlIyog34PludJphxXyJF1vDCC0fRwIqh+V5oqKnGg2HkrbBomQu4uPmuDCHQRh2F9Vdadu2Z02oKUGmEAZ2LODZrEskmuEbOFNuTP6mgis603x1a1Xr1KJTprXgwmskB88H9cPz0rWXLnV1+iF3LRjWUStTBcfxeRy1HnxIPPD9J7X49Quq9dSRk9xPP9V7PSzQlXhq1DnIzxHiQ6EMBD1c38F7rsTKcyBrhMJRfajfveyL07UBlZDsaiume6me1T3czWu6YvFW/sSO5z9r2dro7mlvAKDfhQSqFBUVyP7CZI518N6Vc8yY0zLKYx+8Uh55EjZL+iVrj7l8qVI1zffz2URvVeDc2JPl5qkzkzsrhAy9FiAe3cdKgpikROg9plru4kqc2utcjr+ChX4sCe6ewmL3IoG2daZB0vjkW/fF8Z2Ad2uK+eU5fW+kpq9CDRCzHg0plPqSlmkAq1cKOzMz6VK7sBS2s4IaIjl1TRenHrOyK671Je27pOKUPFelyJODyOk4tbOHFhStQavB7KJPnQVdnI6D5mb96uVWdLhBuO8KKCztPZ5C+poUGXg6PCTnLSmIMs4XbJK4r1sCf44rZy0GlUP/n/AGzLBP/3rIs3AAAAABJRU5ErkJggg==","width":151,"height":151,"src":"/static/bf7f9f29887116a6d496e42f356b60db/192fd/thxwelchs.png","srcSet":"/static/bf7f9f29887116a6d496e42f356b60db/192fd/thxwelchs.png 1x"}}]}}}},"relatedPosts":{"totalCount":6,"edges":[{"node":{"id":"1be5d82f-1384-5422-9261-03f165e6a660","timeToRead":1,"excerpt":"AOP 직역하면 관점지향프로그래밍 인데, 한국말로 들으면 전혀 와닿지 않습니다. 좀 더 이해가 가기 쉬운 의미로 해석해보자면, 애플리케이션 전체에 걸쳐 사용되는 기능을 재사용하도록 지원하는 것입니다. 실무에서는 흔히 공통적인 흐름의 코드를 적용시켜 …","frontmatter":{"title":"AOP 관점지향프로그래밍"},"fields":{"slug":"/AOP/"}}},{"node":{"id":"0cae626f-2f31-5a5d-b97a-f8f8bb745f18","timeToRead":3,"excerpt":"Java 와일드카드 제네릭  제네릭은 Unbound wildcard라고 불리며, 어떤 타입이 될지 모른다 라는 의미입니다. wildcard가 사용된 제네릭은 타입으로 들어온 타입에 대하여 관심이 없다 라는 의미도 되며 기능적인 메소드 외에 원소 값과…","frontmatter":{"title":"제네릭 1편 와일드카드 (Generic Wildcard)"},"fields":{"slug":"/GENERIC-1/"}}},{"node":{"id":"9d3d5903-8625-510d-a3d2-7a8e73051b91","timeToRead":3,"excerpt":"낙관적 락 충돌이 발생하지 않을 거라고 낙관적으로 가정하는 방법 데이터베이스 레벨이 아닌 JPA레벨에서 버전 관리 기능을 통해 구현되어있음 테이블에 version 관리를 할 컬럼을 지정해놓고 읽었을 때의 버전과, 변경 할 때의 버전이 같지 않으면 예…","frontmatter":{"title":"JPA Locking"},"fields":{"slug":"/JPA-locking/"}}}]}},"pageContext":{"slug":"/JPA-locking/","prev":{"excerpt":"AOP 직역하면 관점지향프로그래밍 인데, 한국말로 들으면 전혀 와닿지 않습니다. 좀 더 이해가 가기 쉬운 의미로 해석해보자면, 애플리케이션 전체에 걸쳐 사용되는 기능을 재사용하도록 지원하는 것입니다. 실무에서는 흔히 공통적인 흐름의 코드를 적용시켜 …","timeToRead":1,"frontmatter":{"title":"AOP 관점지향프로그래밍","tags":["aop","java","spring"],"date":"2019-11-22T19:11:55.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":2.052980132450331,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHi3KiD/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAERIP/aAAgBAQABBQIiz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAAgMf/aAAgBAQAGPwIq/wD/xAAbEAABBAMAAAAAAAAAAAAAAAABABARIUFRcf/aAAgBAQABPyERNmAqd+Phv//aAAwDAQACAAMAAAAQV9//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgIDAAAAAAAAAAAAAAABABFBURAhwf/aAAgBAQABPxAIGwauo2UTTozjWpieuP/Z","sizes":"(max-width: 1800px) 100vw, 1800px","src":"/static/12bb3d51601ce7ea2e5b2d240ca39615/52258/AOP-postbg.jpg","srcSet":"/static/12bb3d51601ce7ea2e5b2d240ca39615/2f037/AOP-postbg.jpg 930w,\n/static/12bb3d51601ce7ea2e5b2d240ca39615/52258/AOP-postbg.jpg 1800w"}}},"author":{"id":"thxwelchs","bio":"thxwelchs","avatar":{"children":[{"fixed":{"src":"/static/bf7f9f29887116a6d496e42f356b60db/192fd/thxwelchs.png"}}]}}},"fields":{"layout":"post","slug":"/AOP/"}},"next":{"excerpt":"에피소드 예전에 전 직장 동료 분들과 함께 하는 점심 식사 자리에서 데이터 모델링에 대한 심화 적인(?) 주제로 대화를 나누다가\n객체지향에 대한 주제로 번졌고, 그 중 동료분이 “SOLID 아시죠?” 라는 질문에 저는 “가수 SOLID요?” 라고 답…","timeToRead":4,"frontmatter":{"title":"SOLID 5원칙","tags":["java","solid","객체지향","OOP","5원칙"],"date":"2020-01-21T22:01:55.000Z","draft":false,"image":{"childImageSharp":{"fluid":{"aspectRatio":2.052980132450331,"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAEEBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAehNgqj/xAAbEAEAAgIDAAAAAAAAAAAAAAABAhIDEBExNP/aAAgBAQABBQKXozsqHXBZB1//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAACAwEBAAAAAAAAAAAAAAARIQABEIGR/9oACAEBAAY/AqHhjXcIcdHP/8QAHBABAAIDAAMAAAAAAAAAAAAAAQARITFBEGFx/9oACAEBAAE/IbhJcXolAjfkigbxOQ9qhuD6PH//2gAMAwEAAgADAAAAENPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQACAwEAAAAAAAAAAAAAAREAITFRgZH/2gAIAQEAAT8QbJE0YWOp51hNMwLbUbxOrgBKAArV9xUNxxK/cKhQ6AcAAAgcGf/Z","sizes":"(max-width: 1800px) 100vw, 1800px","src":"/static/d75a3c605fa366775da66967d51d5622/52258/SOLID-postbg.jpg","srcSet":"/static/d75a3c605fa366775da66967d51d5622/2f037/SOLID-postbg.jpg 930w,\n/static/d75a3c605fa366775da66967d51d5622/52258/SOLID-postbg.jpg 1800w"}}},"author":{"id":"thxwelchs","bio":"thxwelchs","avatar":{"children":[{"fixed":{"src":"/static/bf7f9f29887116a6d496e42f356b60db/192fd/thxwelchs.png"}}]}}},"fields":{"layout":"post","slug":"/SOLID/"}},"primaryTag":"java"}},"staticQueryHashes":["3212170248","3213104607","3993936949","794779027"]}